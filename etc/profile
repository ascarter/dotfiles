# dotfiles shell configuration

export XDG_CONFIG_HOME=${XDG_CONFIG_HOME:-$HOME/.config}
export XDG_DATA_HOME=${XDG_DATA_HOME:-$HOME/.local/share}
export DOTFILES=${DOTFILES:-${XDG_DATA_HOME}/dotfiles}
export PATH=${DOTFILES}/bin:$PATH

# Homebrew
export HOMEBREW_NO_EMOJI=1
if [ -d /opt/homebrew ]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
elif [ -d /home/linuxbrew/.linuxbrew ]; then
  eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
fi

# Detect if running in zsh and source zshrc
if [ -n "$ZSH_VERSION" ]; then
  [ -f ${DOTFILES}/etc/zshrc ] && . ${DOTFILES}/etc/zshrc
fi

# Detect if running in bash and source bashrc
if [ -n "$BASH_VERSION" ]; then
  [ -f ${DOTFILES}/etc/bashrc ] && . ${DOTFILES}/etc/bashrc
fi

if [[ -d ${DOTFILES}/etc/profile.d ]]; then
  for rc in ${DOTFILES}/etc/profile.d/* ; do
    if [ -f "$rc" ]; then
      . "$rc"
    fi
  done
fi

# vim: set ft=sh ts=2 sw=2 et:
